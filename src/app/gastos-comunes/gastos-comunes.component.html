<div class="gastos-container">
  <h2>Gestión de Gastos Comunes</h2>

  <div class="form-wrapper">
    <form (ngSubmit)="generarGastosComunes()">
      <div class="form-group">
        <label for="mes">Mes:</label>
        <input type="number" id="mes" [(ngModel)]="mes" name="mes" min="1" max="12" required>
      </div>
      <div class="form-group">
        <label for="anio">Año:</label>
        <input type="number" id="anio" [(ngModel)]="anio" name="anio" min="2000" required>
      </div>
      <button type="submit" class="btn-submit">Generar</button>
    </form>
  </div>

  <button class="btn-toggle" (click)="toggleGastosComunes()">Ver Gastos Comunes</button>

  <div *ngIf="mostrarLista">
    <h3 class="list-header">Lista de Gastos Comunes</h3>
    <ul class="gastos-list" *ngIf="gastosComunes.length > 0">
      <li *ngFor="let gasto of gastosComunes" class="gasto-item">
        <span><strong>Mes/Año:</strong> {{ gasto.mes }}/{{ gasto.anio }}</span>
        <span><strong>Valor Pagado:</strong> {{ gasto.valor_pagado | currency }}</span>
        <span><strong>Fecha de Pago:</strong> {{ gasto.fecha_pago || 'No pagado' }}</span>
        <span><strong>Atrasado:</strong> {{ gasto.atrasado ? 'Sí' : 'No' }}</span>
        <span><strong>Código Departamento:</strong> {{ gasto.cod_depto }}</span>
        <span><strong>RUT:</strong> {{ gasto.rut || 'No asignado' }}</span>
        <span><strong>Nombre:</strong> {{ gasto.nombre || 'No asignado' }}</span>
        <span><strong>Teléfono:</strong> {{ gasto.telefono || 'No asignado' }}</span>
      </li>
    </ul>
    <p class="no-data" *ngIf="gastosComunes.length === 0">No se han registrado gastos comunes aún.</p>
  </div>

  <a routerLink="/home" class="btn-home">Volver al Inicio</a>
</div>
