<div class="gastos-container">
  <h2>📋 Gestión de Gastos Comunes</h2>

  <div class="form-wrapper">
    <form (ngSubmit)="generarGastosComunes()">
      <div class="form-group">
        <label for="mes">📅 Mes:</label>
        <input
          type="number"
          id="mes"
          [(ngModel)]="mes"
          name="mes"
          min="1"
          max="12"
          required
          placeholder="Ingrese el mes (1-12)"
        />
      </div>
      <div class="form-group">
        <label for="anio">📆 Año:</label>
        <input
          type="number"
          id="anio"
          [(ngModel)]="anio"
          name="anio"
          min="2000"
          required
          placeholder="Ingrese el año"
        />
      </div>
      <button type="submit" class="btn-submit">🚀 Generar</button>
    </form>
  </div>

  <button class="btn-toggle" (click)="toggleGastosComunes()">👀 Ver Gastos Comunes</button>

  <div *ngIf="mostrarLista">
    <h3 class="list-header">📑 Lista de Gastos Comunes</h3>
    <ul class="gastos-list" *ngIf="gastosComunes.length > 0">
      <li *ngFor="let gasto of gastosComunes" class="gasto-item">
        <div><strong>📅 Mes/Año:</strong> {{ gasto.mes }}/{{ gasto.anio }}</div>
        <div><strong>💵 Valor Pagado:</strong> {{ gasto.valor_pagado | currency }}</div>
        <div><strong>🗓️ Fecha de Pago:</strong> {{ gasto.fecha_pago || 'No pagado' }}</div>
        <div><strong>⚠️ Atrasado:</strong> {{ gasto.atrasado ? 'Sí' : 'No' }}</div>
        <div><strong>🏠 Código Departamento:</strong> {{ gasto.cod_depto }}</div>
        <div><strong>🔑 RUT:</strong> {{ gasto.rut || 'No asignado' }}</div>
        <div><strong>👤 Nombre:</strong> {{ gasto.nombre || 'No asignado' }}</div>
        <div><strong>📞 Teléfono:</strong> {{ gasto.telefono || 'No asignado' }}</div>
      </li>
    </ul>
    <p class="no-data" *ngIf="gastosComunes.length === 0">No se han registrado gastos comunes aún.</p>
  </div>

  <a routerLink="/home" class="btn-home">🏠 Volver al Inicio</a>
</div>
