<div class="gastos-container">
  <h2>ğŸ“‹ GestiÃ³n de Gastos Comunes</h2>

  <div class="form-wrapper">
    <form (ngSubmit)="generarGastosComunes()">
      <div class="form-group">
        <label for="mes">ğŸ“… Mes:</label>
        <input
          type="number"
          id="mes"
          [(ngModel)]="mes"
          name="mes"
          min="1"
          max="12"
          required
          placeholder="Ingrese el mes (1-12)"
        />
      </div>
      <div class="form-group">
        <label for="anio">ğŸ“† AÃ±o:</label>
        <input
          type="number"
          id="anio"
          [(ngModel)]="anio"
          name="anio"
          min="2000"
          required
          placeholder="Ingrese el aÃ±o"
        />
      </div>
      <button type="submit" class="btn-submit">ğŸš€ Generar</button>
    </form>
  </div>

  <button class="btn-toggle" (click)="toggleGastosComunes()">ğŸ‘€ Ver Gastos Comunes</button>

  <div *ngIf="mostrarLista">
    <h3 class="list-header">ğŸ“‘ Lista de Gastos Comunes</h3>
    <ul class="gastos-list" *ngIf="gastosComunes.length > 0">
      <li *ngFor="let gasto of gastosComunes" class="gasto-item">
        <div><strong>ğŸ“… Mes/AÃ±o:</strong> {{ gasto.mes }}/{{ gasto.anio }}</div>
        <div><strong>ğŸ’µ Valor Pagado:</strong> {{ gasto.valor_pagado | currency }}</div>
        <div><strong>ğŸ—“ï¸ Fecha de Pago:</strong> {{ gasto.fecha_pago || 'No pagado' }}</div>
        <div><strong>âš ï¸ Atrasado:</strong> {{ gasto.atrasado ? 'SÃ­' : 'No' }}</div>
        <div><strong>ğŸ  CÃ³digo Departamento:</strong> {{ gasto.cod_depto }}</div>
        <div><strong>ğŸ”‘ RUT:</strong> {{ gasto.rut || 'No asignado' }}</div>
        <div><strong>ğŸ‘¤ Nombre:</strong> {{ gasto.nombre || 'No asignado' }}</div>
        <div><strong>ğŸ“ TelÃ©fono:</strong> {{ gasto.telefono || 'No asignado' }}</div>
      </li>
    </ul>
    <p class="no-data" *ngIf="gastosComunes.length === 0">No se han registrado gastos comunes aÃºn.</p>
  </div>

  <a routerLink="/home" class="btn-home">ğŸ  Volver al Inicio</a>
</div>
